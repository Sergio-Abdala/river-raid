function Sprite(imgSrc, flag, srcX, srcY, lar, alt, posX, posY){
	//atributos.............................
		this.img = new Image();
		this.img.src = imgSrc;
        this.srcX = srcX;
		this.srcY = srcY;
        this.lar = lar;
		this.alt = alt;
		this.escala = 1;
        this.posX = posX;
		this.posY = posY;
        this.movRight = false;
		this.movLeft = false;
		this.movUp = false;
		this.movDown = false;
		this.speed = 1;
        this.flag = flag;
    //metodos..............................
    this.desenha = function(){
        //if (this.exibir) {
            ctx.drawImage(this.img, this.srcX, this.srcY, this.lar, this.alt, this.posX, this.posY, this.lar, this.alt);
        //}		
    }
    this.exe = function(){
        //movimento 
        if(this.movRight){
            this.posX += this.speed;
            if (this.flag == 'player') {
                //posição direita do avião
                this.srcX = 13;
                this.srcY = 18;
                this.lar = 10;
                this.alt = 14;
            }
			if (this.flag == 'navio') {
                //posição direita
                this.srcX = 36;
            }
			if (this.flag == 'helicoptero') {
				this.srcY = 45;
			}
        }else if(this.movLeft){
            this.posX -= this.speed;
            if (this.flag == 'player') {
                //posição esquerda do avião
                this.srcX = 43;
                this.srcY = 18;
                this.lar = 10;
                this.alt = 14;
            }
			if (this.flag == 'navio') {
                //posição esquerda
                this.srcX = 3;
            }
			if (this.flag == 'helicoptero') {
				this.srcY = 34;
			}
        }else{
            if (this.flag == 'player') {
                //posição inicial avião
                this.srcX = 26;
                this.srcY = 17;
                this.lar = 14;
                this.alt = 14;
            }
        }
        if (this.movUp) {
            this.speed = 1.5;
        }else if(this.movDown){
            this.speed = .5;
        }else{
			if (this.flag == 'player') {
				this.speed = 1;
			}
        }
        //movimento vertical
        if (this.flag != 'player' && this.flag != 'painel' && this.flag != 'ponteiro' && this.flag != 'tiro') {//ñ é o player todos os demais elementos...
            this.posY += sprites[encontrar('player')].speed;			
        }
		
		if (this.flag == 'tiro'){//movimenta ou remove
			if (this.posY > 0) {
				this.posY -= 3;
			}else{
				this.flag = 'remover';
			}			
		}
        //colisão com player
        if (this.flag != 'player' && this.flag != 'tiro' && this.flag != 'explosao' && this.flag != 'remover' && colide(this, sprites[encontrar('player')])) {
			if (this.flag == 'gas') {//enche tanque				
				if (sprites[encontrar('ponteiro')].posX < 181) {//enchendo tanque
					sprites[encontrar('ponteiro')].posX+=.5;
				}				
			}else{
				//player explode...
				sprites[encontrar('player')].srcX = 8;
				sprites[encontrar('player')].srcY = 77;
				sprites[encontrar('player')].lar = 15;
				sprites[encontrar('player')].alt = 12;
				gameOver = true;
			}
        }
		//colisão com tiro
		if (contar('tiro')){			
			for (let j = 0; j < sprites.length; j++) {
				if (sprites[j].flag == 'tiro') {
					if (sprites[j].posY < 0) {
						sprites[j].flag = 'remover';
					}
					if (this.flag != 'tiro' && this.flag != 'player' && colide(this, sprites[j])) {
						//identificar oq colidiu com tiro
						//console.log('tiro atingiu '+ this.flag);
						if (this.flag != 'explosao' && this.flag != 'remover') {
							GLOBAIS.atingiu.push(this.flag);
						}						
						//remover tiro
						if(this.flag != 'explosao'){
							//console.log('remover '+ sprites[j].flag);
							sprites[j].flag = 'remover';
						}
						switch (this.flag) {
							case 'gas':
									this.srcX = 6;//6, 98, 13, 9
									this.srcY = 98;
									this.lar = 13;
									this.alt = 9;
									this.flag = 'explosao';//menor frame menor
								break;
							case 'ponte'://lar = 60
								this.srcX = 6;//6, 98, 13, 9
								this.srcY = 98;
								this.lar = 13;
								this.alt = 9;
								this.posX += 9;
								this.flag = 'explosao';//menor frame menor
								//inserir outra explosao
								explosao(this.posX+30, this.posY);
								break;
							case 'navio':
									this.srcX = 29;//25
									this.srcY = 98;
									this.lar = 27;
									this.alt = 9;
									this.posX += 2;
									this.movRight = false;
									this.movLeft = false;
									this.flag = 'explosao';							
								break;
							case 'aviao':
								this.srcX = 6;//6, 98, 13, 9
								this.srcY = 98;
								this.lar = 13;
								this.alt = 9;
								this.flag = 'explosao';//menor frame menor
								this.movRight = false;
								this.movLeft = false;
								break;
							case 'helicoptero':
								this.srcX = 6;//6, 98, 13, 9
								this.srcY = 98;
								this.lar = 13;
								this.alt = 9;
								this.flag = 'explosao';//explosão menor frame menor
								this.movRight = false;
								this.movLeft = false;
								break;
							//
							default:
								break;
						}								
					}
				}
			}
		}
		//ponteiro
		if (this.flag == 'ponteiro') {
			if (sprites[encontrar('player')].speed < 1) {
				this.posX-=.05;
			}
			if (sprites[encontrar('player')].speed > 1) {
				this.posX-=.15;
			}
			if (sprites[encontrar('player')].speed == 1) {
				this.posX-=.1;
			}			
			if (this.posX < 113) {//player explode...
				sprites[encontrar('player')].srcX = 8;
				sprites[encontrar('player')].srcY = 77;
				sprites[encontrar('player')].lar = 15;
				sprites[encontrar('player')].alt = 12;
				//
				gameOver = true;
			}
		}
		if (this.flag != 'gramado') {//varrer array procurando colisões com gramado
			for (let j = 0; j < sprites.length; j++) {
				if (sprites[j].flag == 'gramado') {
					if (colide(this, sprites[j])) {
						//colidiu com gramado
						if (this.flag == 'navio' || this.flag == 'helicoptero') {
							console.log(this.movLeft +' <== '+ this.flag +' ==> '+ this.movRight +' colidiu com gramado');
							if (this.movRight) {
								this.movRight = false;
								this.movLeft = true;
								this.posX -= this.metax();
							}else{
								this.movRight = true;
								this.movLeft = false;
								this.posX += this.metax();
							}
						}
					}
				}				
			}			
		}
		//animar explosao
		if (this.flag == 'explosao') {
			
			if (!(GLOBAIS.hodometro % 25)) {
				console.log('anima explosao' + this.srcX);
				if(this.srcX == 6){//explosão menor frame maior //4, 110, 17, 13
					//console.log();
					this.srcX = 4;
					this.srcY = 110;
					this.lar = 17;
					this.alt = 13;
				}else if(this.srcX == 4){//explosão menor frame menor //6, 98, 13, 9
					this.srcX = 6;
					this.srcY = 98;
					this.lar = 13;
					this.alt = 9;
				}else if(this.srcX == 29){//explosão maior frame menor 
					this.srcX = 25;
					this.srcY = 110;
					this.lar = 35;
					this.alt = 13;
				}else if(this.srcX == 25){//explosão maior frame menor 
					this.srcX = 29;
					this.srcY = 98;
					this.lar = 27;
					this.alt = 9;
				}
			}
		}
		//animar helicoptero
		if (this.flag == 'helicoptero') {
			if (!(GLOBAIS.hodometro % 15)){
				if (this.srcX == 2) {
					this.srcX = 20;
				}else if (this.srcX == 20) {
					this.srcX = 2;
				}
			}
			if (this.movRight) {
				this.srcY == 45;
			}
			if (this.movLeft) {
				this.srcY = 34;
			}
		}
    }
}
Sprite.prototype.metax = function(){
	return (this.lar) / 2;
}
Sprite.prototype.metay = function(){
	return (this.alt) / 2;
}
Sprite.prototype.meiox = function(){
	return this.posX + this.metax();
}
Sprite.prototype.meioy = function(){
	return this.posY + this.metay();
}
function bloqueando(p1, p2){//(personagem, objeto)
	// p1 --> personagem
	// p2 --> parede bloqueante elemento de interação..
	//catetos distancia entre os pontos
	let catx = p1.meiox() - p2.meiox();
	let caty = p1.meioy() - p2.meioy();
	//soma das metades
	let somax = p1.metax() + p2.metax();
	let somay = p1.metay() + p2.metay();
	// tocando-se!!!!!!!!!!
	if (Math.abs(catx) < somax && Math.abs(caty) < somay) {
		//p2.ver = false;
		//setTimeout(function(){ p2.ver = true; }, 1000);
		let overlapx = somax - Math.abs(catx);
		let overlapy = somay - Math.abs(caty);
		if (overlapx >= overlapy) { //colisão por cima ou por baixo
			this.metaHorizontal = this.metaVertical = null;
			p1.movUp = p1.movDown = p1.movLeft = p1.movRight = false;
			if (caty > 0) { // bateu a cabeça do personagem colidiu parte de cima do personagem que esta sendo controlado
				p1.posY += overlapy;
				//
				console.log('bateu cabeça: '+ p2.id);
				if (p2.id == 'porta') {
					console.log('entrou '+ p2.txt);
					//aqui muda de fase....					
					sprites[encontrar('player')].fase = p2.txt;					
				}
			} else {
				p1.posY -= overlapy;
				//
				console.log('esta pisando: '+ p2.id);
				if (p2.id == 'porta') {
					console.log('saiu '+ p2.txt);
					//aqui muda de fase....					
					sprites[encontrar('player')].fase = p2.txt;					
				}
			}
		} else { // colisão pelos lados esquerda ou direita
			this.metaHorizontal = this.metaVertical = null;
			p1.movUp = p1.movDown = p1.movLeft = p1.movRight = false;
			if(catx > 0){ // colidiu na esquerda
				p1.posX += overlapx;
				//
				console.log('player bateu à esquerda: '+ p2.id);
			}else{
				p1.posX -= overlapx;
				//
				console.log('player bateu à direita: '+ p2.id);
			}
		}
	}
}
function empurando(p2, p1){//(personagem, objeto)
	// p1 --> personagem
	// p2 --> parede bloqueante elemento de interação..
	//catetos distancia entre os pontos
	let catx = p1.meiox() - p2.meiox();
	let caty = p1.meioy() - p2.meioy();
	//soma das metades
	let somax = p1.metax() + p2.metax();
	let somay = p1.metay() + p2.metay();
	// tocando-se!!!!!!!!!!
	if (Math.abs(catx) < somax && Math.abs(caty) < somay) {
		//p2.ver = false;
		//setTimeout(function(){ p2.ver = true; }, 1000);
		let overlapx = somax - Math.abs(catx);
		let overlapy = somay - Math.abs(caty);
		if (overlapx >= overlapy) { //colisão por cima ou por baixo
			if (caty > 0) { // bateu a cabeça do personagem colidiu parte de cima do personagem que esta sendo controlado
				p1.worldY += overlapy; 
			} else {
				p1.worldY -= overlapy;
			}
		} else { // colisão pelos lados esquerda ou direita
			if(catx > 0){ // colideu na esquerda
				p1.worldX += overlapx;
			}else{
				p1.worldX -= overlapx;
			}
		}
	}
}
function colide(p1, p2){
	// p1 --> personagem
	// p2 --> parede bloqueante elemento de interação..
	//catetos distancia entre os pontos
	let catx = p1.meiox() - p2.meiox();
	let caty = p1.meioy() - p2.meioy();
	//soma das metades
	let somax = p1.metax() + p2.metax();
	let somay = p1.metay() + p2.metay();
	// tocando-se!!!!!!!!!!
	if (Math.abs(catx) < somax && Math.abs(caty) < somay) {
		//p2.ver = false;
		return true;
	}else{
		return false;
	}
}